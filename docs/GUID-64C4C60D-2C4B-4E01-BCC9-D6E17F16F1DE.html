<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="MPLAB速 Harmony TensorFlow Lite Configurations and Application examples for Microchip Microcontrollers" />
<meta name="DC.relation" scheme="URI" content="GUID-CA8858A6-EC72-42D5-8A59-8B9794E16C66.html" />
<meta name="DC.relation" scheme="URI" content="GUID-22D72BA8-E33F-48CE-8AD7-9D5B4221D2A1.html" />
<meta name="DC.relation" scheme="URI" content="GUID-1A54C1AF-D42B-4750-A5F2-C8E1CC52E767.html" />
<meta name="DC.relation" scheme="URI" content="GUID-85C71EF8-14CC-4BC7-814C-1248E7D2D6B6.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="mplab-harmony-tensorflow-lite-configurations-and-application-examples-for-microchip-microcontrollers" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>MPLAB速 Harmony TensorFlow Lite Configurations and Application examples for Microchip Microcontrollers</title>
<meta name="Microsoft.Help.Id" content="GUID-55139F81-F253-49E8-BF9E-53CD046C59AF-mplab-harmony-tensorflow-lite-configurations-and-application-examples-for-microchip-microcontrollers" />
<meta name="Microsoft.Help.TocParent" content="GUID-55139F81-F253-49E8-BF9E-53CD046C59AF" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB速 Harmony TensorFlow Lite for Microcontroller (TFLM) Solutions Reference A 01/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-64C4C60D-2C4B-4E01-BCC9-D6E17F16F1DE"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="stylesheets/common-extended.css" /></head>
<body id="mplab-harmony-tensorflow-lite-configurations-and-application-examples-for-microchip-microcontrollers">
<h1 class="title topictitle1" id="ariaid-title1">MPLAB速 Harmony TensorFlow Lite Configurations and Application examples for Microchip Microcontrollers</h1><div class="body"><p class="p">This distribution package contains scripts to represent <a class="xref" href="https://github.com/tensorflow/tflite-micro" target="_blank">TensorFlow Lite for Microcontrollers</a> as a component for easier configuration
and example applications to demonstrate the usage as part of Harmony framework.</p>
<p class="p"><a class="xref" href="https://github.com/Microchip-MPLAB-Harmony/tflite/scripts/digit_recognition/Digit_Recognition.ipynb" target="_blank">Google Colaboratory</a> notebook is provided
to create Convolutional Neural Network (CNN) and train with <a class="xref" href="http://yann.lecun.com/exdb/mnist/" target="_blank">MNIST dataset</a> to classify handwritten digit.
Refer to <strong class="ph b">Digit Recognition</strong> example application for more details.</p>
<p class="p"><strong class="ph b">Introduction</strong></p>
<p class="p"><a class="xref" href="https://github.com/tensorflow/tensorflow" target="_blank">TensorFlow</a> is an end-to-end open-source platform for machine learning. Tensorflow bundles together Machine Learning and Deep Learning models and algorithms.
TensorFlow can be used for both network training and inference, whereas TensorFlow Lite for Microcontroller (TFLM) is specifically designed to deploy a pre-trained deep learning model on
embedded devices with limited compute and memory resources.</p>
<p class="p">The process of creating and deploying machine learning model on Microcontroller using TFLM is given below</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Select and train a model using TensorFlow.</p>
</li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Convert the model to TensorFlow Lite format using TensorFlow Lite Converter</p>
</li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Deploy the converted model for inferencing on Microcontrollers with TFLM run time engine</p>
</li>
</ol>
<blockquote class="lq"><br /><img class="image" src="GUID-22605FE6-45D8-43B3-9032-3E389043C741-low.png" alt="ml flow" /><br /></blockquote>
<p class="p"><a class="xref" href="https://www.tensorflow.org/lite/convert/" target="_blank">TensorFlow Lite converter</a> takes a TensorFlow model and generates a TensorFlow Lite model  (an optimized FlatBuffer format identified by the .tflite file extension).
You can quantize the model to reduce model size and improve execution performance. Refer to <a class="xref" href="https://www.tensorflow.org/lite/performance/post_training_quantization" target="_blank">post-training quantization</a> for more details.</p>
<p class="p">Google Colab or "Colaboratory", allows you to write and execute Python in your browser to create models and evaluate these models.</p>
<p class="p">Refer to the following information to get started with TensorFlow and Google Colaboratory.</p>
<ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://colab.research.google.com/notebooks/welcome.ipynb" target="_blank">Welcome to Colaboratory</a></p>
</li>
<li class="li"><p class="p"><a class="xref" href="https://www.tensorflow.org/tutorials/quickstart/beginner" target="_blank">TensorFlow 2 quickstart for beginners</a></p>
</li>
</ul>
<p class="p"><strong class="ph b">TensorFlow Lite for Microcontroller (TFLM) Configurations</strong></p>
<p class="p">The following figure shows the configuration option for TFLM component</p>
<blockquote class="lq"><br /><img class="image" src="GUID-9EA6AB48-E483-4787-9F41-C7F96B67D615-low.png" alt="tflite_configuration" /><br /></blockquote>
<ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://github.com/ARM-software/CMSIS_5/tree/develop/CMSIS/NN" target="_blank">Use CMSIS-NN Library</a></p>
</li>
</ul>
<blockquote class="lq"><p class="p">CMSIS-NN provides optimized kernels to maximize the performance and minimize the memory for Cortex-M4 and Cortex-M7 based Microcontrollers.
TensorFlow Lite uses optimized kernels (integer) when available. The reference kernels (float) are used as the fallback option.</p>
</blockquote>
<ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://github.com/tensorflow/tflite-micro/tree/main/tensorflow/lite/experimental/microfrontend" target="_blank">Use Audio Frontend Library</a></p>
</li>
</ul>
<blockquote class="lq"><p class="p">This is required to run the micro_speech example with TFLM</p>
</blockquote>
<ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://github.com/mborgerding/kissfft" target="_blank">Use FFT library</a></p>
</li>
</ul>
<blockquote class="lq"><p class="p">This is required to run the micro_speech example with TFLM</p>
</blockquote>
<ul class="ul"><li class="li"><p class="p">TFLM makes use of following third-party library</p>
</li>
</ul>
<blockquote class="lq"><ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://github.com/google/flatbuffers" target="_blank">FlatBuffers library</a></p>
</li>
<li class="li"><p class="p"><a class="xref" href="https://github.com/google/gemmlowp" target="_blank">Low Precision Matrix Multiplication library</a></p>
</li>
<li class="li"><p class="p"><a class="xref" href="https://github.com/google/ruy" target="_blank">RUY Matrix Multiplication Library</a></p>
</li>
</ul>
</blockquote>
<p class="p"><strong class="ph b">Application examples</strong></p>
<p class="p">The following applications are provided to demonstrate the typical or interesting usage models for TensorFlow Lite</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:middle;" id="d3106e146"><span>Name</span></th>
<th class="entry cellrowborder" style="vertical-align:middle;" id="d3106e148"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d3106e146 "><span>Digit Recognition</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d3106e148 "><span>Demonstrates handwritten digit recognition</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d3106e146 "><span>hello world</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d3106e148 "><span>Demonstrate the absolute basics of using TensorFlow Lite for Microcontroller</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d3106e146 "><span>magic wand</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d3106e148 "><span>Demonstrates how to use accelerometer to recognize gestures</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:middle;" headers="d3106e146 "><span>micro speech</span></td>
<td class="entry cellrowborder" style="vertical-align:middle;" headers="d3106e148 "><span>Demonstrates how to recognize keywords from speech data</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="GUID-CA8858A6-EC72-42D5-8A59-8B9794E16C66.html">Digit Recognition example</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-22D72BA8-E33F-48CE-8AD7-9D5B4221D2A1.html">Hello World example</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-1A54C1AF-D42B-4750-A5F2-C8E1CC52E767.html">Magic Wand example</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-85C71EF8-14CC-4BC7-814C-1248E7D2D6B6.html">Micro Speech example</a></strong><br />
</li>
</ul>
</div></body>
</html>